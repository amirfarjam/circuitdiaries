<!doctype html><html lang=en dir=auto data-theme=light><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>AI Doppelgängers Are the Hottest Thing Since the Sims | Circuit Diaries</title><meta name=keywords content="AI,agents,simulation"><meta name=description content="How researchers built AI doppelgängers from real people—scaling from a 25-agent Smallville to a 1,052-person behavioral simulation with eerily human accuracy."><meta name=author content><link rel=canonical href=https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/><link crossorigin=anonymous href=/assets/css/stylesheet.539387ace00d5b08826968e77407028633e79ed2a0122c8c6ef0dd2463466adc.css integrity="sha256-U5OHrOANWwiCaWjndAcChjPnntKgEiyMbvDdJGNGatw=" rel="preload stylesheet" as=style><link rel=icon href=https://circuitdiaries.co.uk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://circuitdiaries.co.uk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://circuitdiaries.co.uk/favicon-32x32.png><link rel=apple-touch-icon href=https://circuitdiaries.co.uk/apple-touch-icon.png><link rel=mask-icon href=https://circuitdiaries.co.uk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"&&(document.querySelector("html").dataset.theme="dark")</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css><meta property="og:url" content="https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/"><meta property="og:site_name" content="Circuit Diaries"><meta property="og:title" content="AI Doppelgängers Are the Hottest Thing Since the Sims"><meta property="og:description" content="How researchers built AI doppelgängers from real people—scaling from a 25-agent Smallville to a 1,052-person behavioral simulation with eerily human accuracy."><meta property="og:locale" content="en-gb"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-13T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-13T00:00:00+00:00"><meta property="article:tag" content="AI"><meta property="article:tag" content="Agents"><meta property="article:tag" content="Simulation"><meta property="og:image" content="https://circuitdiaries.co.uk/attachments/smalvill1.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://circuitdiaries.co.uk/attachments/smalvill1.png"><meta name=twitter:title content="AI Doppelgängers Are the Hottest Thing Since the Sims"><meta name=twitter:description content="How researchers built AI doppelgängers from real people—scaling from a 25-agent Smallville to a 1,052-person behavioral simulation with eerily human accuracy."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://circuitdiaries.co.uk/posts/"},{"@type":"ListItem","position":2,"name":"AI Doppelgängers Are the Hottest Thing Since the Sims","item":"https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"AI Doppelgängers Are the Hottest Thing Since the Sims","name":"AI Doppelgängers Are the Hottest Thing Since the Sims","description":"How researchers built AI doppelgängers from real people—scaling from a 25-agent Smallville to a 1,052-person behavioral simulation with eerily human accuracy.","keywords":["AI","agents","simulation"],"articleBody":"1.Smallville Revisited: How the 25-Agent Experiment Was Trained Back in 2023, Joon Sung Park and colleagues unleashed 25 generative agents into a pixel town [1] that looked suspiciously like The Sims.\nTraining recipe: Each agent started with a single-sentence biography (“Evelyn, the friendly barista who loves art”) and the weights of a large-language model (LLM). The researchers did not pre-script behaviour. Instead, they wired the LLM to a cognitive loop—perception → memory → retrieval → reflection → planning → action. As the agents sensed events (e.g., seeing a neighbour), they stored that observation as short-term memory, later retrieving, summarising, and planning the next move. A few dozen such cycles per in-game day were enough for one agent to propose a Valentine’s Day party; the other 24 autonomously spread the news, formed dates, baked cupcakes, and showed up on time. Figure 1 – The Smallville sandbox world [1]\n2.Bigville: Scaling Up to 1,052 AI Doppelgängers If Smallville was a sitcom cast, Stanford’s follow-up—“Generative Agent Simulations of 1,000 People”—is a demographic thriller.\nHow they trained it? The team first recruited 1,052 U.S. adults. Each participant completed a two-hour, LLM-mediated interview, producing roughly 6,500 words of life stories, beliefs, preferences, and experiences. Four specialised “virtual PhDs” (a psychologist, economist, political scientist, and demographer) then summarised each transcript into bullet-point reflections so the agent could reason beyond raw dialogue. Finally, those memories were piped into the same cognitive loop used in Smallville, yielding 1,052 unique agents [2].\nDoes it work? To find out whether the AI “twins” really behaved like their flesh-and-blood counterparts, the researchers ran both groups through the same social-science obstacle course. First came the General Social Survey (GSS), a gold-standard questionnaire covering everything from civic values to favourite TV genres; the agents reproduced roughly 85 percent of their owners’ answers, almost as close as the humans matched themselves two weeks later. Next was the Big-Five personality inventory, where scores for openness, conscientiousness, extraversion, agreeableness, and neuroticism lined up almost one-for-one with the originals. Finally, in the Dictator Games—behavioural-economics mini-games that probe fairness and generosity—the AI players offered and accepted splits that differed from their humans by only a few cents on average. In short, the digital doppelgängers didn’t just talk like their humans; they shared their survey opinions, personality fingerprints, and moral instincts as well [2].\nWhy add 1,027 more agents? With a thousand-plus personalities, researchers can now prototype policy changes, marketing campaigns, or public-health messages across a population-scale sandbox before risking real-world.\n3.Why This Leap Matters Early agent-based models (ABMs) showed that simple rule-following agents could recreate traffic jams, housing segregation, or stock-market bubbles [3]. By inserting LLM-powered memories onto those frameworks, generative agents now capture individual nuance—religious background, music taste, political leanings—at scale. That blend opens doors for:\nEvidence-driven policy rehearsal. Governments can test tax reforms inside Bigville first, spotting unrest long before protest banners hit Main Street. Organisational A/B tests. A business could test a four-day workweek on its virtual employees first, then instantly see whether people would quit less, feel happier, and get more work done. Interdisciplinary research. Economists, psychologists, and urban planners share one giant sandbox, accelerating cross-field hypotheses that were once impossible to coordinate [4]. 4.Ethical Seatbelts Required Think of each AI twin as a super-bright mirror: it shows us a remarkably realistic reflection, but stare too long and you might get burned.\nPrivacy first. Those two-hour interviews read like personal diaries—childhood stories, political views, heartbreaks. All that text must live in a locked digital vault with strict access logs, encryption, and clear rules about who can use it and why. Mind the bias. If most volunteers happen to be tech-savvy city folks, the agents will inherit that worldview and overlook rural or blue-collar perspectives. Researchers have to keep their sample diverse and run regular bias audits to catch blind spots early. Don’t give them a “soul.” The agents can sound weirdly human, but they’re still statistical models, not sentient beings. Policymakers and product designers must remember they’re talking to code, not a conscious citizen. Be transparent. Publish the data-handling practices, explain the model’s limits, and add big, friendly disclaimers when results feed into public decisions. In short, lock up the personal data, double-check for hidden bias, and always label these twins for what they are—clever simulations, not living substitutes.\n5.Conclusion In barely a year, generative agents jumped from a 25-person rom-com to a 1,052-person behavioural census. Smallville proved agents can plan parties; Bigville shows they can also answer surveys, negotiate ultimatum games, and debate politics with statistically believable accuracy. The next time someone proposes “testing it live,” you can reply, “Great—let’s spin up a thousand AI doppelgängers first.” Your future self (and perhaps your toaster) may thank you.\nReferences\nPark, J. S., O’Brien, J. C., Cai, C. J., Morris, M. R., Liang, P., \u0026 Bernstein, M. S. (2023). Generative Agents: Interactive Simulacra of Human Behavior. UIST ’23 Proceedings. Park, J. S., Zou, C. Q., Shaw, A., Hill, B. M., Cai, C., Morris, M. R., Willer, R., Liang, P., \u0026 Bernstein, M. S. (2024). Generative Agent Simulations of 1,000 People. arXiv:2411.10109. Epstein, J. M., \u0026 Axtell, R. L. (1996). Growing Artificial Societies: Social Science from the Bottom Up. Brookings/MIT Press. Wooldridge, M. (2009). An Introduction to MultiAgent Systems (2nd ed.). Wiley. https://hai.stanford.edu/news/computational-agents-exhibit-believable-humanlike-behavior\nhttps://hai.stanford.edu/news/ai-agents-simulate-1052-individuals-personalities-with-impressive-accuracy\n","wordCount":"878","inLanguage":"en","image":"https://circuitdiaries.co.uk/attachments/smalvill1.png","datePublished":"2025-05-13T00:00:00Z","dateModified":"2025-05-13T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/"},"publisher":{"@type":"Organization","name":"Circuit Diaries","logo":{"@type":"ImageObject","url":"https://circuitdiaries.co.uk/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://circuitdiaries.co.uk/ accesskey=h title="Circuit Diaries (Alt + H)">Circuit Diaries</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://circuitdiaries.co.uk/ title=Posts><span>Posts</span></a></li><li><a href=https://github.com/amirfarjam/circuitdiaries title=GitHub><span>GitHub</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://newfolder22.co.uk/ title=Projects><span>Projects</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://circuitdiaries.co.uk/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://circuitdiaries.co.uk/>Home</a>&nbsp;»&nbsp;<a href=https://circuitdiaries.co.uk/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">AI Doppelgängers Are the Hottest Thing Since the Sims</h1><div class=post-description>How researchers built AI doppelgängers from real people—scaling from a 25-agent Smallville to a 1,052-person behavioral simulation with eerily human accuracy.</div><div class=post-meta><span title='2025-05-13 00:00:00 +0000 UTC'>May 13, 2025</span>&nbsp;·&nbsp;<span>5 min</span></div></header><figure class=entry-cover><img loading=eager srcset='https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/attachments/smalvill1_hu_e811cc983b35ee2e.png 360w,https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/attachments/smalvill1_hu_7a961ebd84f6d542.png 480w,https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/attachments/smalvill1_hu_f7f44db3d745a6e0.png 720w,https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/attachments/smalvill1.png 930w' src=https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/attachments/smalvill1.png sizes="(min-width: 768px) 720px, 100vw" width=930 height=450 alt="Stylized Smallville-style AI agent simulation scene"></figure><div class=post-content><p>1.<strong>Smallville Revisited: How the 25-Agent Experiment Was Trained</strong>
Back in 2023, Joon Sung Park and colleagues unleashed <strong>25 generative agents</strong> into a pixel town [1] that looked suspiciously like <em>The Sims</em>.<br><em>Training recipe:</em> Each agent started with a single-sentence biography (“Evelyn, the friendly barista who loves art”) and the weights of a large-language model (LLM). The researchers did <strong>not</strong> pre-script behaviour. Instead, they wired the LLM to a cognitive loop—<em>perception → memory → retrieval → reflection → planning → action</em>. As the agents sensed events (e.g., seeing a neighbour), they stored that observation as short-term memory, later retrieving, summarising, and planning the next move. A few dozen such cycles per in-game day were enough for one agent to propose a Valentine’s Day party; the other 24 autonomously spread the news, formed dates, baked cupcakes, and showed up on time.
<img alt=smalvill loading=lazy src=Blog/posts/AI_Doppelg%C3%A4ngers/attachments/smalvill.png>
Figure 1 – The Smallville sandbox world [1]</p><p>2.<strong>Bigville: Scaling Up to 1,052 AI Doppelgängers</strong>
If Smallville was a sitcom cast, Stanford’s follow-up—<strong>“Generative Agent Simulations of 1,000 People”</strong>—is a demographic thriller.<br><em>How they trained it?</em> The team first recruited <strong>1,052 U.S. adults</strong>. Each participant completed a <strong>two-hour, LLM-mediated interview</strong>, producing roughly <strong>6,500 words of life stories, beliefs, preferences, and experiences</strong>. Four specialised “virtual PhDs” (a psychologist, economist, political scientist, and demographer) then summarised each transcript into bullet-point reflections so the agent could reason beyond raw dialogue. Finally, those memories were piped into the same cognitive loop used in Smallville, yielding 1,052 unique agents [2].</p><p><em>Does it work?</em>
To find out whether the AI “twins” really behaved like their flesh-and-blood counterparts, the researchers ran both groups through the same social-science obstacle course. First came the <strong>General Social Survey (GSS)</strong>, a gold-standard questionnaire covering everything from civic values to favourite TV genres; the agents reproduced roughly <strong>85 percent</strong> of their owners’ answers, almost as close as the humans matched themselves two weeks later. Next was the <strong>Big-Five personality inventory</strong>, where scores for openness, conscientiousness, extraversion, agreeableness, and neuroticism lined up almost one-for-one with the originals. Finally, in the <strong>Dictator Games</strong>—behavioural-economics mini-games that probe fairness and generosity—the AI players offered and accepted splits that differed from their humans by only a few cents on average. In short, the digital doppelgängers didn’t just talk like their humans; they shared their survey opinions, personality fingerprints, and moral instincts as well [2].</p><p><em>Why add 1,027 more agents?</em> With a thousand-plus personalities, researchers can now prototype policy changes, marketing campaigns, or public-health messages across a population-scale sandbox before risking real-world.</p><p>3.<strong>Why This Leap Matters</strong>
Early <strong>agent-based models (ABMs)</strong> showed that simple rule-following agents could recreate traffic jams, housing segregation, or stock-market bubbles [3]. By inserting LLM-powered memories onto those frameworks, generative agents now capture <strong>individual nuance</strong>—religious background, music taste, political leanings—at scale. That blend opens doors for:</p><ul><li><strong>Evidence-driven policy rehearsal.</strong> Governments can test tax reforms inside Bigville first, spotting unrest long before protest banners hit Main Street.</li><li><strong>Organisational A/B tests.</strong> A business could test a four-day workweek on its virtual employees first, then instantly see whether people would quit less, feel happier, and get more work done.</li><li><strong>Interdisciplinary research.</strong> Economists, psychologists, and urban planners share one giant sandbox, accelerating cross-field hypotheses that were once impossible to coordinate [4].</li></ul><p>4.<strong>Ethical Seatbelts Required</strong>
Think of each AI twin as a super-bright mirror: it shows us a remarkably realistic reflection, but stare too long and you might get burned.</p><ul><li><strong>Privacy first.</strong> Those two-hour interviews read like personal diaries—childhood stories, political views, heartbreaks. All that text must live in a locked digital vault with strict access logs, encryption, and clear rules about who can use it and why.</li><li><strong>Mind the bias.</strong> If most volunteers happen to be tech-savvy city folks, the agents will inherit that worldview and overlook rural or blue-collar perspectives. Researchers have to keep their sample diverse and run regular <strong>bias audits</strong> to catch blind spots early.</li><li><strong>Don’t give them a “soul.”</strong> The agents can sound weirdly human, but they’re still statistical models, not sentient beings. Policymakers and product designers must remember they’re talking to code, not a conscious citizen.</li><li><strong>Be transparent.</strong> Publish the data-handling practices, explain the model’s limits, and add big, friendly disclaimers when results feed into public decisions.</li></ul><p>In short, lock up the personal data, double-check for hidden bias, and always label these twins for what they are—clever simulations, not living substitutes.</p><p>5.<strong>Conclusion</strong>
In barely a year, generative agents jumped from a 25-person rom-com to a 1,052-person behavioural census. Smallville proved agents can plan parties; Bigville shows they can also answer surveys, negotiate ultimatum games, and debate politics with statistically believable accuracy. The next time someone proposes “testing it live,” you can reply, “Great—let’s spin up a thousand AI doppelgängers first.” Your future self (and perhaps your toaster) may thank you.</p><p><strong>References</strong></p><ol><li>Park, J. S., O’Brien, J. C., Cai, C. J., Morris, M. R., Liang, P., & Bernstein, M. S. (2023). <strong>Generative Agents: Interactive Simulacra of Human Behavior.</strong> <em>UIST ’23 Proceedings.</em></li><li>Park, J. S., Zou, C. Q., Shaw, A., Hill, B. M., Cai, C., Morris, M. R., Willer, R., Liang, P., & Bernstein, M. S. (2024). <strong>Generative Agent Simulations of 1,000 People.</strong> arXiv:2411.10109.</li><li>Epstein, J. M., & Axtell, R. L. (1996). <strong>Growing Artificial Societies: Social Science from the Bottom Up.</strong> Brookings/MIT Press.</li><li>Wooldridge, M. (2009). <strong>An Introduction to MultiAgent Systems</strong> (2nd ed.). Wiley.</li></ol><p><a href=https://hai.stanford.edu/news/computational-agents-exhibit-believable-humanlike-behavior>https://hai.stanford.edu/news/computational-agents-exhibit-believable-humanlike-behavior</a></p><p><a href=https://hai.stanford.edu/news/ai-agents-simulate-1052-individuals-personalities-with-impressive-accuracy>https://hai.stanford.edu/news/ai-agents-simulate-1052-individuals-personalities-with-impressive-accuracy</a></p></div><section id=comments><script src=https://giscus.app/client.js data-repo=amirfarjam/circuitdiaries data-repo-id=R_kgDOQZM0Aw data-category=Comments data-category-id=DIC_kwDOQZM0A84CyAh6 data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async></script></section><footer class=post-footer><ul class=post-tags><li><a href=https://circuitdiaries.co.uk/tags/ai/>AI</a></li><li><a href=https://circuitdiaries.co.uk/tags/agents/>Agents</a></li><li><a href=https://circuitdiaries.co.uk/tags/simulation/>Simulation</a></li></ul><nav class=paginav><a class=prev href=https://circuitdiaries.co.uk/posts/meet_the_puppet_master/><span class=title>« Prev</span><br><span>Meet the Puppet Master Living in Your Skull</span>
</a><a class=next href=https://circuitdiaries.co.uk/posts/bubble-wrap_the_sun/><span class=title>Next »</span><br><span>DIY Home Project #472: Bubble-wrap the Sun with a Dyson Sphere</span></a></nav></footer></article></main><footer class=footer><div class=footer-social><div class=social-icons align=center><a href=https://github.com/amirfarjam target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://www.linkedin.com/in/amirfarjamm/ target=_blank rel="noopener noreferrer me" title=Linkedin><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>
</a><a href=mailto:info@newfolder22.co.uk target=_blank rel="noopener noreferrer me" title=Email><svg viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></div><div class=footer-meta>&copy; 2026 <a href=https://circuitdiaries.co.uk/>Circuit Diaries</a>
· Powered by duct tape, zip ties, and hope</div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>