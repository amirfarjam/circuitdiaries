<!doctype html><html lang=en dir=auto data-theme=light><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Meet the Puppet Master Living in Your Skull | Circuit Diaries</title><meta name=keywords content="neuroscience,free-will,philosophy"><meta name=description content="A dive into Libet experiments, veto windows, and the neuroscience behind why your brain may be pulling the strings long before 'you' decide anything."><meta name=author content><link rel=canonical href=https://circuitdiaries.co.uk/posts/meet_the_puppet_master/><link crossorigin=anonymous href=/assets/css/stylesheet.539387ace00d5b08826968e77407028633e79ed2a0122c8c6ef0dd2463466adc.css integrity="sha256-U5OHrOANWwiCaWjndAcChjPnntKgEiyMbvDdJGNGatw=" rel="preload stylesheet" as=style><link rel=icon href=https://circuitdiaries.co.uk/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://circuitdiaries.co.uk/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://circuitdiaries.co.uk/favicon-32x32.png><link rel=apple-touch-icon href=https://circuitdiaries.co.uk/apple-touch-icon.png><link rel=mask-icon href=https://circuitdiaries.co.uk/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://circuitdiaries.co.uk/posts/meet_the_puppet_master/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"&&(document.querySelector("html").dataset.theme="dark")</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css><meta property="og:url" content="https://circuitdiaries.co.uk/posts/meet_the_puppet_master/"><meta property="og:site_name" content="Circuit Diaries"><meta property="og:title" content="Meet the Puppet Master Living in Your Skull"><meta property="og:description" content="A dive into Libet experiments, veto windows, and the neuroscience behind why your brain may be pulling the strings long before 'you' decide anything."><meta property="og:locale" content="en-gb"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-05-22T00:00:00+00:00"><meta property="article:modified_time" content="2025-05-22T00:00:00+00:00"><meta property="article:tag" content="Neuroscience"><meta property="article:tag" content="Free-Will"><meta property="article:tag" content="Philosophy"><meta property="og:image" content="https://circuitdiaries.co.uk/attachments/masterpuppet.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://circuitdiaries.co.uk/attachments/masterpuppet.png"><meta name=twitter:title content="Meet the Puppet Master Living in Your Skull"><meta name=twitter:description content="A dive into Libet experiments, veto windows, and the neuroscience behind why your brain may be pulling the strings long before 'you' decide anything."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://circuitdiaries.co.uk/posts/"},{"@type":"ListItem","position":2,"name":"Meet the Puppet Master Living in Your Skull","item":"https://circuitdiaries.co.uk/posts/meet_the_puppet_master/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Meet the Puppet Master Living in Your Skull","name":"Meet the Puppet Master Living in Your Skull","description":"A dive into Libet experiments, veto windows, and the neuroscience behind why your brain may be pulling the strings long before 'you' decide anything.","keywords":["neuroscience","free-will","philosophy"],"articleBody":"Is it a coincidence that this post’s title sounds a lot like the Metallica classic “Master of Puppets”—the riff I’ve been trying to master all week? Maybe. But here’s the real question: do I actually get to change that title whenever I want, or is that sense of choice just a clever brain-generated illusion?\nThere are lots of opinions. I mostly agree with Sam Harris (more on him later) who argues that free will is—let’s say—overrated. But instead of diving straight into a philosophical argument, let’s step back and see what science has to say.\n1 The Libet Experiment Libet placed EEG sensors on volunteers’ scalps and EMG sensors on their wrists, then let them flex a finger whenever they felt like it. After each flick, they read a fast-moving clock and reported where the dot was when the urge first appeared; subtracting a known 50 ms sensory lag gave a “conscious-intention” time roughly 200 ms before movement. However, brain signals called the readiness potential, began about 550 ms before movement which shows neural prep long before the person became aware of deciding. Figure 1 – The brain’s motor prep fired ~350 ms before conscious intention showed up.\nWhy People Still Argue About it? Even though the Libet experiment has been repeated many times with different methods—like button presses, brain-computer interfaces, or even fMRI—the results still spark debate. Brain activity usually ramps up before people say they made a decision, but what that means isn’t clear.\nCritics point out that the original study only had five participants, and it relies on people accurately reporting when they felt the urge to move—something that’s hard to measure precisely.\nMost of all, the disagreement comes from interpretation: does early brain activity signal the start of a decision, or is it just random noise? And can simple tasks like flicking a finger really tell us anything about big, meaningful life choices? That’s where the real debate continues.\n2 Free Will vs. Free Won’t Libet didn’t throw free will overboard. He claimed consciousness can veto an action in the ~100–150 ms window between feeling the urge and muscle go-time:\n“You can’t pick the song, but you can still stop the music.”\nModern upgrades: In a 2016 brain-computer-interface “duel,” a classifier tried to predict button presses in real time. If the BCI flashed STOP earlier than ~200 ms pre-movement, people could still cancel; any later and the action blasted through—the so-called point-of-no-return [2].\n3 Why “Free Won’t” Might Be Wearing a Fake Moustache\nYour brain may brake before “you” do: Researchers have found brain signals that stop a movement popping up a split-second before people feel the urge to cancel. So even the veto seems to start outside awareness [2]. Noise-not-choice model: Some researchers think the brain is always buzzing with tiny, random signals. Most of the time these signals are too small to do anything, but once in a while they build up just enough to fire off a movement. That slow build-up is the “readiness potential” Libet recorded—it could simply be background noise getting loud, not a planned decision [3]. Big decisions don’t look the same: When volunteers choose something that really matters—like which charity gets real money—the classic readiness signal often disappears. Instead, the brain takes its time, weighing pros and cons before acting [4]. Bottom line: the “veto window” may not be a conscious super-power at all; it could be just another automatic brain process, or noise, dressed up as free choice.\n4 The Free Will Menu: Pick Your Flavour\nView What It Says Quick Example Who Believes It Hard Determinism Physics pulls every puppet string; you’re just watching them happen. “I picked tea because of my past, not because I was free.” Sam Harris, Jerry Coyne Random Brain Noise Your brain sometimes fires randomly and causes action—no planning needed. “My brain fired, and I moved—like popcorn popping.” Aaron Schurger Compatibilism Even if everything has a cause, you’re free when you act based on your own reasons. “I chose tea because I wanted tea. That’s enough.” Daniel Dennett, Sean Carroll Free Won’t You don’t choose to act, but you can stop yourself just before doing it. “I almost picked tea, but I stopped myself in time.” Benjamin Libet (original idea) Libertarian Free Will Some choices really do come from you, not from causes or randomness. “I picked tea freely—it wasn’t caused or random, it was me.” Robert Kane 5 Conclusion — Where the Evidence Currently Points Four decades of behavioural, electrophysiological and neuro-imaging studies have converged on a broadly deterministic picture of human action. Readiness potentials, accumulator-style drift toward motor thresholds, and multivariate decoding all reveal neural patterns that predict a choice hundreds of milliseconds—sometimes seconds—before people report deciding [5, 6].\nAttempts to rescue a consciously driven “veto” have found only a narrow, unreliable window, and even those suppression signals frequently emerge outside awareness [2]. While philosophical positions such as compatibilism reinterpret freedom within a deterministic framework, few empirical findings today require a non-deterministic explanation. This view doesn’t remove moral responsibility or the need for reflection, but it does shift the burden of proof on any theory that claims actions start consciously without any cause. At present, neuroscience is more comfortably explained by causal neural processes than by self-originating sparks.\nReferences Libet, B., Gleason, C. A., Wright, E. W., \u0026 Pearl, D. K. (1983). Time of conscious intention to act in relation to onset of cerebral activity. Brain, 106, 623-642. Schultze-Kraft, M. et al. (2016). The point of no return in vetoing self-initiated movements. PNAS, 113, 1080-1085. Schurger, A., Sitt, J. D., \u0026 Dehaene, S. (2012). An accumulator model for spontaneous neural activity prior to self-initiated movement. PNAS, 109, E2904-E2913. Maoz, U., Yaffe, G., Koch, C., \u0026 Mudrik, L. (2019). Neural precursors of decisions that matter—an ERP study of deliberate and arbitrary choice. eLife, 8, e39787. Schurger, A., Hu, P., Pak, J., \u0026 Roskies, A. L. (2021). What is the readiness potential? Trends in Cognitive Sciences, 25, 558-570. Braun, M. N., Wessler, J., \u0026 Friese, M. (2021). A meta-analysis of Libet-style experiments. Neuroscience \u0026 Biobehavioral Reviews, 128, 182-198. ","wordCount":"1016","inLanguage":"en","image":"https://circuitdiaries.co.uk/attachments/masterpuppet.png","datePublished":"2025-05-22T00:00:00Z","dateModified":"2025-05-22T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://circuitdiaries.co.uk/posts/meet_the_puppet_master/"},"publisher":{"@type":"Organization","name":"Circuit Diaries","logo":{"@type":"ImageObject","url":"https://circuitdiaries.co.uk/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://circuitdiaries.co.uk/ accesskey=h title="Circuit Diaries (Alt + H)">Circuit Diaries</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://circuitdiaries.co.uk/ title=Posts><span>Posts</span></a></li><li><a href=https://github.com/amirfarjam/circuitdiaries title=GitHub><span>GitHub</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://newfolder22.co.uk/ title=Projects><span>Projects</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://circuitdiaries.co.uk/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://circuitdiaries.co.uk/>Home</a>&nbsp;»&nbsp;<a href=https://circuitdiaries.co.uk/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Meet the Puppet Master Living in Your Skull</h1><div class=post-description>A dive into Libet experiments, veto windows, and the neuroscience behind why your brain may be pulling the strings long before 'you' decide anything.</div><div class=post-meta><span title='2025-05-22 00:00:00 +0000 UTC'>May 22, 2025</span>&nbsp;·&nbsp;<span>5 min</span></div></header><figure class=entry-cover><img loading=eager srcset='https://circuitdiaries.co.uk/posts/meet_the_puppet_master/attachments/masterpuppet_hu_33728cce34f7d02f.png 360w,https://circuitdiaries.co.uk/posts/meet_the_puppet_master/attachments/masterpuppet_hu_46f46d7f6027e315.png 480w,https://circuitdiaries.co.uk/posts/meet_the_puppet_master/attachments/masterpuppet_hu_5c7f18a5cac8e710.png 720w,https://circuitdiaries.co.uk/posts/meet_the_puppet_master/attachments/masterpuppet.png 842w' src=https://circuitdiaries.co.uk/posts/meet_the_puppet_master/attachments/masterpuppet.png sizes="(min-width: 768px) 720px, 100vw" width=842 height=1024 alt="Illustration of a puppet master controlling a human brain"></figure><div class=post-content><p>Is it a coincidence that this post’s title sounds a lot like the Metallica classic <strong>“Master of Puppets”</strong>—the riff I’ve been trying to master all week? Maybe. But here’s the real question: <strong>do I actually get to change that title whenever I want, or is that sense of choice just a clever brain-generated illusion?</strong></p><p>There are lots of opinions. I mostly agree with Sam Harris (more on him later) who argues that free will is—let’s say—<em>overrated</em>. But instead of diving straight into a philosophical argument, let’s step back and see what <strong>science</strong> has to say.</p><p><strong>1 The Libet Experiment</strong>
Libet placed EEG sensors on volunteers’ scalps and EMG sensors on their wrists, then let them flex a finger whenever they felt like it. After each flick, they read a fast-moving clock and reported where the dot was when the urge first appeared; subtracting a known 50 ms sensory lag gave a “conscious-intention” time roughly 200 ms before movement. However, brain signals called the readiness potential, began about 550 ms before movement which shows neural prep long before the person became aware of deciding.
<img alt=timeline loading=lazy src=/posts/meet_the_puppet_master/attachments/timeline.png>
Figure 1 – The brain’s motor prep fired ~350 ms before conscious intention showed up.</p><p><strong>Why People Still Argue About it?</strong>
Even though the Libet experiment has been repeated many times with different methods—like button presses, brain-computer interfaces, or even fMRI—the results still spark debate. Brain activity usually ramps up before people say they made a decision, but what that means isn’t clear.</p><p>Critics point out that the original study only had five participants, and it relies on people accurately reporting when they felt the urge to move—something that’s hard to measure precisely.</p><p>Most of all, the disagreement comes from interpretation: does early brain activity signal the start of a decision, or is it just random noise? And can simple tasks like flicking a finger really tell us anything about big, meaningful life choices? That’s where the real debate continues.</p><p><strong>2 Free Will vs. Free Won’t</strong>
Libet didn’t throw free will overboard. He claimed consciousness can <strong>veto</strong> an action in the ~100–150 ms window between feeling the urge and muscle go-time:</p><p>“You can’t pick the song, but you can still stop the music.”</p><p>Modern upgrades: In a 2016 brain-computer-interface “duel,” a classifier tried to predict button presses in real time. If the BCI flashed <em>STOP</em> earlier than ~200 ms pre-movement, people could still cancel; any later and the action blasted through—the so-called <strong>point-of-no-return</strong> [2].</p><p><strong>3 Why “Free Won’t” Might Be Wearing a Fake Moustache</strong></p><ol><li><strong>Your brain may brake before “you” do:</strong> Researchers have found brain signals that <em>stop</em> a movement popping up a split-second <em>before</em> people feel the urge to cancel. So even the veto seems to start outside awareness [2].</li><li><strong>Noise-not-choice model</strong>: Some researchers think the brain is always buzzing with tiny, random signals. Most of the time these signals are too small to do anything, but once in a while they build up just enough to fire off a movement. That slow build-up is the “readiness potential” Libet recorded—it could simply be background noise getting loud, not a planned decision [3].</li><li><strong>Big decisions don’t look the same:</strong> When volunteers choose something that really matters—like which charity gets real money—the classic readiness signal often disappears. Instead, the brain takes its time, weighing pros and cons before acting [4].</li></ol><p>Bottom line: the “veto window” may not be a conscious super-power at all; it could be just another automatic brain process, or noise, dressed up as free choice.</p><p><strong>4 The Free Will Menu: Pick Your Flavour</strong></p><table><thead><tr><th><strong>View</strong></th><th><strong>What It Says</strong></th><th><strong>Quick Example</strong></th><th><strong>Who Believes It</strong></th></tr></thead><tbody><tr><td><strong>Hard Determinism</strong></td><td>Physics pulls every puppet string; you’re just watching them happen.</td><td>“I picked tea because of my past, not because I was free.”</td><td>Sam Harris,      Jerry Coyne</td></tr><tr><td><strong>Random Brain Noise</strong></td><td>Your brain sometimes fires randomly and causes action—no planning needed.</td><td>“My brain fired, and I moved—like popcorn popping.”</td><td>Aaron Schurger</td></tr><tr><td><strong>Compatibilism</strong></td><td>Even if everything has a cause, you’re free when you act based on your own reasons.</td><td>“I chose tea because I <em>wanted</em> tea. That’s enough.”</td><td>Daniel Dennett, Sean Carroll</td></tr><tr><td><strong>Free Won’t</strong></td><td>You don’t choose to act, but you can stop yourself just before doing it.</td><td>“I almost picked tea, but I stopped myself in time.”</td><td>Benjamin Libet (original idea)</td></tr><tr><td><strong>Libertarian Free Will</strong></td><td>Some choices really do come from <em>you</em>, not from causes or randomness.</td><td>“I picked tea freely—it wasn’t caused or random, it was me.”</td><td>Robert Kane</td></tr></tbody></table><h2 id=5-conclusion--where-the-evidence-currently-points>5 Conclusion — Where the Evidence Currently Points<a hidden class=anchor aria-hidden=true href=#5-conclusion--where-the-evidence-currently-points>#</a></h2><p>Four decades of behavioural, electrophysiological and neuro-imaging studies have converged on a broadly <strong>deterministic picture of human action</strong>. Readiness potentials, accumulator-style drift toward motor thresholds, and multivariate decoding all reveal neural patterns that predict a choice hundreds of milliseconds—sometimes seconds—before people report deciding [5, 6].</p><p>Attempts to rescue a consciously driven “veto” have found only a narrow, unreliable window, and even those suppression signals frequently emerge outside awareness [2]. While philosophical positions such as compatibilism reinterpret freedom within a deterministic framework, <strong>few empirical findings today require a non-deterministic explanation</strong>. This view doesn’t remove moral responsibility or the need for reflection, but it does shift the burden of proof on any theory that claims actions start consciously without any cause. At present, neuroscience is more comfortably explained by causal neural processes than by self-originating sparks.</p><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ol><li>Libet, B., Gleason, C. A., Wright, E. W., & Pearl, D. K. (1983). <em>Time of conscious intention to act in relation to onset of cerebral activity.</em> Brain, 106, 623-642.</li><li>Schultze-Kraft, M. et al. (2016). <em>The point of no return in vetoing self-initiated movements.</em> PNAS, 113, 1080-1085.</li><li>Schurger, A., Sitt, J. D., & Dehaene, S. (2012). <em>An accumulator model for spontaneous neural activity prior to self-initiated movement.</em> PNAS, 109, E2904-E2913.</li><li>Maoz, U., Yaffe, G., Koch, C., & Mudrik, L. (2019). <em>Neural precursors of decisions that matter—an ERP study of deliberate and arbitrary choice.</em> eLife, 8, e39787.</li><li>Schurger, A., Hu, P., Pak, J., & Roskies, A. L. (2021). <em>What is the readiness potential?</em> Trends in Cognitive Sciences, 25, 558-570.</li><li>Braun, M. N., Wessler, J., & Friese, M. (2021). <em>A meta-analysis of Libet-style experiments.</em> Neuroscience & Biobehavioral Reviews, 128, 182-198.</li></ol></div><section id=comments><script src=https://giscus.app/client.js data-repo=amirfarjam/circuitdiaries data-repo-id=R_kgDOQZM0Aw data-category=Comments data-category-id=DIC_kwDOQZM0A84CyAh6 data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async></script></section><footer class=post-footer><ul class=post-tags><li><a href=https://circuitdiaries.co.uk/tags/neuroscience/>Neuroscience</a></li><li><a href=https://circuitdiaries.co.uk/tags/free-will/>Free-Will</a></li><li><a href=https://circuitdiaries.co.uk/tags/philosophy/>Philosophy</a></li></ul><nav class=paginav><a class=prev href=https://circuitdiaries.co.uk/posts/game_of_life/><span class=title>« Prev</span><br><span>Game of Life | A Digital Universe</span>
</a><a class=next href=https://circuitdiaries.co.uk/posts/ai_doppelg%C3%A4ngers/><span class=title>Next »</span><br><span>AI Doppelgängers Are the Hottest Thing Since the Sims</span></a></nav></footer></article></main><footer class=footer><div class=footer-social><div class=social-icons align=center><a href=https://github.com/amirfarjam target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://www.linkedin.com/in/amirfarjamm/ target=_blank rel="noopener noreferrer me" title=Linkedin><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>
</a><a href=mailto:info@newfolder22.co.uk target=_blank rel="noopener noreferrer me" title=Email><svg viewBox="0 0 24 21" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></div></div><div class=footer-meta>&copy; 2026 <a href=https://circuitdiaries.co.uk/>Circuit Diaries</a>
· Powered by duct tape, zip ties, and hope</div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>